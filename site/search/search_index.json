{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Strona g\u0142\u00f3wna","text":""},{"location":"#data-backbone-odkryj-wartosc-swoich-danych-biznesowych","title":"Data Backbone - Odkryj warto\u015b\u0107 swoich danych biznesowych","text":""},{"location":"#kregosup-danych","title":"Kr\u0119gos\u0142up danych","text":"<p>Jeste\u015bmy Usprawniacze Firm i stworzyli\u015bmy narz\u0119dzie, kt\u00f3re pomo\u017ce Twojej firmie odkry\u0107 now\u0105 wiedz\u0119 i warto\u015b\u0107 ukryt\u0105 we w\u0142asnych danych.</p> <p>I odzyskaj spok\u00f3j i kontrol\u0119 w technologicznej sferze Twojej firmy</p>"},{"location":"#czym-jest-data-backbone","title":"Czym jest Data Backbone?","text":"<p>Data Backbone to platforma, kt\u00f3ra u\u0142atwia ma\u0142ym i \u015brednim przedsi\u0119biorstwom (M\u015aP) analiz\u0119 danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Wyobra\u017a sobie, \u017ce masz dost\u0119p do wszystkich swoich danych biznesowych w jednym miejscu - od emaili, przez dane z CRM, a\u017c po firmowe excele. Data Backbone pomo\u017ce Ci po\u0142\u0105czy\u0107 te dane i wyci\u0105gn\u0105\u0107 z nich warto\u015bciowe wnioski.</p>"},{"location":"#jak-data-backbone-moze-pomoc-twojej-firmie","title":"Jak Data Backbone mo\u017ce pom\u00f3c Twojej firmie?","text":"<p>Za\u0142\u00f3\u017cmy, \u017ce chcesz wiedzie\u0107, ile mar\u017cy generujesz na ka\u017cdym z klient\u00f3w w uj\u0119ciu miesi\u0119cznym. Data Backbone pozwoli Ci po\u0142\u0105czy\u0107 dane z systemu rejestracji czasu pracy (np. Clickup), dane o pensjach pracownik\u00f3w z excela oraz informacje o przep\u0142ywach finansowych z konta bankowego. W rezultacie otrzymasz przejrzysty raport pokazuj\u0105cy mar\u017c\u0119 dla ka\u017cdego klienta.</p>"},{"location":"concepts/indicators/","title":"Wska\u017aniki","text":""},{"location":"concepts/indicators/#wprowadzenie","title":"Wprowadzenie","text":"<p>Aby stworzy\u0107 nowy wska\u017anik w systemie Data Backbone, post\u0119puj zgodnie z poni\u017cszymi krokami. Wska\u017anik to metryka, kt\u00f3ra pozwala na analiz\u0119 i monitorowanie r\u00f3\u017cnych aspekt\u00f3w biznesowych na podstawie przetworzonych danych.</p>"},{"location":"concepts/indicators/#definicja-struktury-wskaznika","title":"Definicja Struktury Wska\u017anika","text":""},{"location":"concepts/indicators/#typ-wskaznika","title":"Typ wska\u017anika","text":"<pre><code>@dataclass\nclass RequiredFields:\n    id: str # wskazanie klucza id w zasobie\n    updated: str # wskazanie klucza ostatniej modyfikacji w zasobie\n\n# typ wska\u017anika\n@dataclass\nclass Indicator:\n    name: str # nazwa wska\u017anika, jest to tak\u017ce nazwa kolekcji Mongo w bazie \"INDICATORS\"\n    description: str # opis wska\u017anika\n    department: str # opis dzia\u0142u, do kt\u00f3rego przypisany jest wska\u017anik\n    fields: RequiredFields # pola wymagane  do zmapowania we wska\u017anika\n    action: str # nazwa akcji przetwarzaj\u0105cej dane do wska\u017anika. to jest referencja po kluczu do typu IndicatorAction\n    out_action: str # nazwa akcji wystawiaj\u0105cej dane wska\u017anika z zewn\u0119trznym oprogramowaniem. to jest referencja po kluczu do typu IndicatorOutAction\n\n# typ zawarto\u015bci zasobu\nResourceData = List[Dict[str, Any]]\n\n# typ akcji przetwarzaj\u0105cej dane do wska\u017anika\nIndicatorAction = Callable[\n    [Indicator, MongoClient],\n    ResourceData\n]\n\n# typ akcji wystawiaj\u0105cej dane wska\u017anika dla zewn\u0119trznego oprogramowania\nIndicatorOutAction = Callable[\n    [Indicator, ResourceData, MongoClient],\n    Any\n]\n</code></pre>"},{"location":"concepts/indicators/#struktura-wskaznika","title":"Struktura wska\u017anika","text":"<p>Struktura wska\u017anika zosta\u0142a zdefiniowana w pliku JSON, kt\u00f3ry nale\u017cy utworzy\u0107 i wype\u0142ni\u0107 zgodnie z poni\u017cszym szablonem:</p> <pre><code>{\n  \"name\": \"ExampleIndicatorBoilerplate\",\n  \"department\": \"finance\",\n  \"description\": \"Example description for example indicator\",\n  \"fields\": {\n    \"id\": \"id\",\n    \"updated\": \"last_updated_time\"\n  },\n  \"action\": \"calculate_example_indicator\"\n}\n</code></pre>"},{"location":"concepts/indicators/#opis-pol-wskaznika","title":"Opis p\u00f3l Wska\u017anika:","text":"<ul> <li>name: (string) Nazwa wska\u017anika. Jest to tak\u017ce nazwa kolekcji Mongo w bazie \"INDICATORS\".</li> <li>department: (string) Dzia\u0142, do kt\u00f3rego przypisany jest wska\u017anik, np. \"marketing\", \"finanse\".</li> <li>description: (string) Opis wska\u017anika, zawieraj\u0105cy informacje o przeznaczeniu i zawarto\u015bci wska\u017anika.</li> <li>fields: (object) Pola wymagane do zmapowania w wska\u017aniku:</li> <li>id: (string) Klucz g\u0142\u00f3wny identyfikuj\u0105cy wska\u017anik w jego docelowym API.</li> <li>updated: (string) Klucz ostatniej modyfikacji wska\u017anika w jego docelowym API.</li> <li>action: (string) Nazwa akcji przetwarzaj\u0105cej dane. Jest to referencja do funkcji, kt\u00f3ra przetwarza dane z zasob\u00f3w do wska\u017anika.</li> </ul>"},{"location":"concepts/indicators/#tworzenie-pliku-krok-po-kroku","title":"Tworzenie pliku krok po kroku:","text":"<ol> <li>Utw\u00f3rz nowy plik JSON (np. <code>MonthlyMargin.json</code>).</li> <li>Wklej powy\u017csz\u0105 struktur\u0119 do pliku.</li> <li>Zapisz plik w katalogu <code>/__indicators__/boilerplates/MonthlyMargin.json</code></li> </ol>"},{"location":"concepts/indicators/#przykadowa-struktura-json-wskaznika","title":"Przyk\u0142adowa struktura JSON wska\u017anika:","text":"<pre><code>{\n  \"name\": \"MonthlyMargin\",\n  \"department\": \"finance\",\n  \"description\": \"Wska\u017anik mar\u017cy miesi\u0119cznej dla ka\u017cdego klienta\",\n  \"fields\": {\n    \"id\": \"client_id\",\n    \"updated\": \"last_calculated\"\n  },\n  \"action\": \"calculate_monthly_margin\"\n}\n</code></pre>"},{"location":"concepts/intro/","title":"Koncept zasobu i wska\u017anika","text":""},{"location":"concepts/intro/#czym-jest-zasob","title":"Czym jest zas\u00f3b","text":"<p>Koncept zasobu odnosi si\u0119 do po\u0142\u0105czenia opisu</p>"},{"location":"concepts/intro/#czym-jest-wskaznik","title":"Czym jest wska\u017anik","text":"<p>Koncept zasobu odnosi si\u0119 do abstrakcyjnego przedstawienia danych lub funkcji, kt\u00f3re s\u0105 dost\u0119pne w systemie, umo\u017cliwiaj\u0105c ich \u0142atwe zarz\u0105dzanie i integracj\u0119. Zasoby mog\u0105 reprezentowa\u0107 r\u00f3\u017cnorodne elementy, takie jak dane finansowe, u\u017cytkownicy czy transakcje, i s\u0105 cz\u0119sto wykorzystywane w aplikacjach do organizacji i strukturyzacji informacji. </p>"},{"location":"concepts/intro/#struktura-json-zasobu","title":"Struktura JSON Zasobu","text":"<pre><code>{\n  \"name\": \"StripeInvoices\",\n  \"description\": \"Zas\u00f3b faktur ze Stripe\",\n  \"department\": \"finance\",\n  \"fields\": {\n    \"id\": \"id\",\n    \"updated\": \"created\"\n  },\n  \"action\": \"fetch_stripe_invoices\"\n}\n</code></pre>"},{"location":"concepts/intro/#skadowe-funkcji-fetch_stripe_invoices","title":"Sk\u0142adowe funkcji fetch_stripe_invoices:","text":"<ul> <li>Niezb\u0119dne zale\u017cno\u015bci do realizacji logiki biznesowej</li> <li>Schema walidacji danych wychodz\u0105cych</li> <li>Cz\u0119\u015bci akcji pobierania zasobu<ul> <li>Funkcje collect</li> <li>Funkcja morph_json_with_pandas</li> <li>Funkcja validate_output</li> </ul> </li> <li>Ca\u0142y kod akcji pobierania zasobu</li> </ul>"},{"location":"concepts/intro/#1-niezbedne-zaleznosci-do-realizacji-logiki-biznesowej","title":"1. Niezb\u0119dne zale\u017cno\u015bci do realizacji logiki biznesowej","text":"<pre><code>import pandas as pd  # Import Pandas do pracy z danymi w formie tabel\nfrom dotenv import load_dotenv  # Import funkcji load_dotenv do \u0142adowania zmiennych \u015brodowiskowych z pliku .env\nfrom __resources__.types import Resource, MongoClient\nfrom external_services.stripe.utils import check_if_metadata_exists\nfrom external_services.stripe.stripe_client import collect_invoices_from_stripe, collect_missing_invoices  # Import funkcji do pobierania faktur z Stripe\nfrom typing import List, Dict, Any  # Import typ\u00f3w dla adnotacji\nfrom utils.validator import Validator\n</code></pre>"},{"location":"concepts/intro/#2-schema-walidacji-danych-wychodzacych","title":"2. Schema walidacji danych wychodz\u0105cych","text":"<pre><code>schema_out = {\n    \"id\": str,\n    \"amount_paid\": float,\n    \"total\": float,\n    \"created\": int,\n    \"status\": str,\n    \"customer\": str,\n    \"hours_capacity_per_payment\": int\n}\n</code></pre>"},{"location":"concepts/intro/#3-akcja-pobierania-zasobu","title":"3. Akcja pobierania zasobu","text":""},{"location":"concepts/intro/#3a-funkcje-collect","title":"3a. Funkcje collect","text":"<pre><code># implementacja\n\nimport requests  # Import modu\u0142u requests do wykonywania \u017c\u0105da\u0144 HTTP\nfrom dotenv import load_dotenv  # Import funkcji load_dotenv do \u0142adowania zmiennych \u015brodowiskowych z pliku .env\nimport os  # Import modu\u0142u os do pracy z systemem operacyjnym\n\ndef collect_invoices_from_stripe(accumulator:list=[]):\n    NUMBER_OF_MISSING_INVOICES = 3\n    load_dotenv()  # Za\u0142aduj zmienne \u015brodowiskowe z pliku .env\n    STRIPE_KEY = os.getenv('STRIPE_KEY')  # Pobierz klucz API Stripe ze zmiennych \u015brodowiskowych\n    headers = {\n        \"Authorization\": f\"Bearer {STRIPE_KEY}\"  # Ustaw nag\u0142\u00f3wki autoryzacyjne dla \u017c\u0105da\u0144 HTTP\n    }\n\n    invoices = accumulator  # Inicjalizuj list\u0119 faktur\n\n    if len(invoices) == NUMBER_OF_MISSING_INVOICES:\n        url = \"https://api.stripe.com/v1/invoices?status=paid&amp;limit=100\"  # URL do pobierania faktur z Stripe\n    if len(invoices) &gt; NUMBER_OF_MISSING_INVOICES:\n        url = f\"https://api.stripe.com/v1/invoices?status=paid&amp;limit=100&amp;starting_after={invoices[-1]['id']}\" \n\n    response = requests.get(url, headers=headers)  # Wykonaj \u017c\u0105danie HTTP GET do API Stripe\n\n    if response.status_code != 200:  # Sprawd\u017a, czy odpowied\u017a ma status 200 (OK)\n        raise Exception(f\"B\u0142\u0105d podczas pobierania danych z collect_invoices_from_stripe. Kod statusu: {response.status_code}\")  # Rzu\u0107 wyj\u0105tek w przypadku b\u0142\u0119du\n\n    data = response.json()['data']  # Pobierz dane JSON z odpowiedzi\n    if not data:  # Sprawd\u017a, czy dane s\u0105 puste\n        return invoices  # Zako\u0144cz rekurencj\u0119 i zwr\u00f3\u0107 faktury\n\n    invoices.extend(data)  # Dodaj pobrane faktury do listy invoices\n    return collect_invoices_from_stripe(invoices)\n\n\n# u\u017cycie\n\nfrom external_services.stripe.utils import check_if_metadata_exists\nfrom external_services.stripe.stripe_client import collect_invoices_from_stripe, collect_missing_invoices  # Import funkcji do pobierania faktur z Stripe\n\n\n\"\"\"Pobierz i przekszta\u0142\u0107 faktury ze Stripe\"\"\"\nmissing_invoices = collect_missing_invoices()  # Pobranie brakuj\u0105cych faktur ze Stripe\nall_stripe_invoices = collect_invoices_from_stripe(missing_invoices)  # Pobranie wszystkich faktur ze Stripe\n</code></pre>"},{"location":"concepts/intro/#3b-funkcja-morph_json_with_pandas","title":"3b. Funkcja morph_json_with_pandas","text":"<pre><code>def morph_json_with_pandas(data: List[Dict[str, Any]]) -&gt; List[Dict[str, Any]]:\n    \"\"\"Przekszta\u0142\u0107 dane JSON na DataFrame i przefiltruj kolumny\"\"\"\n    columns_wanted = [\n        'id', 'amount_paid', 'lines', 'total', 'created', \n        'status', 'customer'\n    ]  # Definicja kolumn, kt\u00f3re chcemy zachowa\u0107\n\n    df = pd.DataFrame(data)  # Stworzenie DataFrame z danych JSON\n    df = df[columns_wanted]  # Zachowanie tylko wybranych kolumn w DataFrame\n\n    df['created'] = df['created'].astype(int)  # Przekszta\u0142cenie kolumny 'created' na typ int\n\n    # Przypisanie warto\u015bci do odpowiednich kolumn\n    df['id'] = df['id']\n    df['amount_paid'] = df['amount_paid']\n    df['hours_capacity_per_payment'] = df.apply(lambda x: int(x['lines']['data'][0]['plan']['metadata']['hours_capacity_per_payment']), axis=1)\n    df['total'] = df['total']\n    df['status'] = df['status']\n    df['customer'] = df['customer']\n\n    df.drop(['lines'], axis=1, inplace=True)\n\n    return df\n</code></pre>"},{"location":"concepts/intro/#3c-funkcja-validate_output","title":"3c. Funkcja validate_output","text":"<pre><code>def validate_output(df, schema_out):\n\n    return Validator.validate(df,schema_out)\n</code></pre>"},{"location":"concepts/intro/#4-cay-kod-akcji-pobierania-zasobu","title":"4. Ca\u0142y kod akcji pobierania zasobu","text":"<pre><code>import pandas as pd  # Import Pandas do pracy z danymi w formie tabel\nfrom dotenv import load_dotenv  # Import funkcji load_dotenv do \u0142adowania zmiennych \u015brodowiskowych z pliku .env\nfrom __resources__.types import Resource, MongoClient\nfrom external_services.stripe.utils import check_if_metadata_exists\nfrom external_services.stripe.stripe_client import collect_invoices_from_stripe, collect_missing_invoices  # Import funkcji do pobierania faktur z Stripe\nfrom typing import List, Dict, Any  # Import typ\u00f3w dla adnotacji\nfrom utils.validator import Validator\n\n\nschema_out = {\n    \"id\": str,\n    \"amount_paid\": float,\n    \"total\": float,\n    \"created\": int,\n    \"status\": str,\n    \"customer\": str,\n    \"hours_capacity_per_payment\": int\n}\n\n\ndef morph_json_with_pandas(data: List[Dict[str, Any]]) -&gt; List[Dict[str, Any]]:\n    \"\"\"Przekszta\u0142\u0107 dane JSON na DataFrame i przefiltruj kolumny\"\"\"\n    columns_wanted = [\n        'id', 'amount_paid', 'lines', 'total', 'created', \n        'status', 'customer'\n    ]  # Definicja kolumn, kt\u00f3re chcemy zachowa\u0107\n\n    df = pd.DataFrame(data)  # Stworzenie DataFrame z danych JSON\n    df = df[columns_wanted]  # Zachowanie tylko wybranych kolumn w DataFrame\n\n    df['created'] = df['created'].astype(int)  # Przekszta\u0142cenie kolumny 'created' na typ int\n\n    # Przypisanie warto\u015bci do odpowiednich kolumn\n    df['id'] = df['id']\n    df['amount_paid'] = df['amount_paid']\n    df['hours_capacity_per_payment'] = df.apply(lambda x: int(x['lines']['data'][0]['plan']['metadata']['hours_capacity_per_payment']), axis=1)\n    df['total'] = df['total']\n    df['status'] = df['status']\n    df['customer'] = df['customer']\n\n    df.drop(['lines'], axis=1, inplace=True)  # Usuni\u0119cie kolumny 'lines' z DataFrame\n    return df\n\n\ndef validate_output(df, schema_out):\n    \"\"\"Waliduje dane w DataFrame zgodnie z podanym schematem.\"\"\"\n    return Validator.validate(df, schema_out)\n\n\ndef fetch_stripe_invoices(resource_setting: Resource, mongo_client: MongoClient) -&gt; List[Dict[str, Any]]:\n    \"\"\"Pobierz i przekszta\u0142\u0107 faktury ze Stripe\"\"\"\n\n    missing_invoices = collect_missing_invoices()  # Pobranie brakuj\u0105cych faktur ze Stripe\n    all_stripe_invoices = collect_invoices_from_stripe(missing_invoices)  # Pobranie wszystkich faktur ze Stripe\n\n    df_invoices = pd.DataFrame(all_stripe_invoices)  # Stworzenie DataFrame ze wszystkich faktur\n\n    # Przefiltrowanie faktur, aby usun\u0105\u0107 te z okre\u015blonymi ID\n    filtered_all_invoices = df_invoices[~df_invoices['id'].isin(['in_1PTOUuE2fekoERPNjIgQdiNh', 'in_1PXip9E2fekoERPNATlFnNUR'])].to_dict('records') \n    df_invoices = pd.DataFrame(filtered_all_invoices)\n\n    df_invoices['lines'] = df_invoices['lines'].apply(check_if_metadata_exists)\n\n    filtered_all_invoices = df_invoices.to_dict(orient='records')\n\n    filtered_all_invoices = df_invoices.to_dict(orient='records')\n\n    complete_invoices = morph_json_with_pandas(filtered_all_invoices)\n\n    complete_invoices = validate_output(complete_invoices, schema_out)\n\n    dict_invoices = complete_invoices.to_dict(orient='records')\n\n    return dict_invoices  # Zwr\u00f3cenie kompletnych faktur\n</code></pre>"},{"location":"concepts/resources/","title":"Zasoby","text":""},{"location":"concepts/resources/#wprowadzenie","title":"Wprowadzenie","text":"<p>Ten przewodnik przeprowadzi Ci\u0119 przez proces tworzenia nowego zasobu w systemie Data Backbone. Zas\u00f3b to struktura danych, kt\u00f3ra pozwala na gromadzenie i zarz\u0105dzanie danymi z r\u00f3\u017cnych \u017ar\u00f3de\u0142.</p>"},{"location":"concepts/resources/#definicja-struktury-zasobu","title":"Definicja Struktury Zasobu","text":""},{"location":"concepts/resources/#typ-zasobu","title":"Typ zasobu:","text":"<pre><code>@dataclass\nclass RequiredFields:\n    id: str # wskazanie klucza id w zasobie\n    updated: str # wskazanie klucza ostatniej modyfikacji w zasobie\n\n# typ zasobu\n@dataclass\nclass Resource:\n    name: str # nazwa zasobu, jest to tak\u017ce nazwa kolekcji Mongo w bazie \"RESOURCES\"\n    description: str # opis zasobu\n    department: str # opis dzia\u0142u, do kt\u00f3rego przypisany jest zas\u00f3b\n    fields: RequiredFields # pola wymagane  do zmapowania w zasobie\n    action: str # nazwa akcji pobieraj\u0105cej dane. to jest referencja po kluczu do ResourceAction\n\n# typ zawarto\u015bci zasobu\nResourceData = List[Dict[str, Any]]\n\n# typ akcji pobieraj\u0105cej zas\u00f3b\nResourceAction = Callable[\n    [Resource, MongoClient],\n    ResourceData\n]\n</code></pre>"},{"location":"concepts/resources/#struktura-zasobu","title":"Struktura zasobu","text":"<p>Zas\u00f3b jest definiowany w formacie JSON. Przyk\u0142adowa struktura zasobu wygl\u0105da nast\u0119puj\u0105co:</p> <pre><code>{\n  \"name\": \"ExampleResourceBoilerplate\",\n  \"department\": \"ops\",\n  \"description\": \"Example description for example resource\",\n  \"fields\": {\n    \"id\": \"id\",\n    \"updated\": \"last_updated_time\"\n  },\n  \"action\": \"give_me_example_data\"\n}\n</code></pre>"},{"location":"concepts/resources/#opis-pol-zasobu","title":"Opis P\u00f3l Zasobu","text":"<ul> <li>name: (string) Nazwa zasobu, jest to tak\u017ce nazwa kolekcji Mongo w bazie \"RESOURCES\".</li> <li>department: (string) Dzia\u0142, do kt\u00f3rego przypisany jest zas\u00f3b, np. \"marketing\", \"finanse\".</li> <li>description: (string) Opis zasobu, zawieraj\u0105cy informacje o przeznaczeniu i zawarto\u015bci zasobu.</li> <li>fields: (object) Pola wymagane do zmapowania w zasobie:</li> <li>id: (string) Klucz g\u0142\u00f3wny identyfikuj\u0105cy zas\u00f3b w jego docelowym API.</li> <li>updated: (string) Klucz ostatniej modyfikacji zasobu w jego docelowym API.</li> <li>action: (string) Nazwa akcji pobieraj\u0105cej dane. Jest to referencja do funkcji, kt\u00f3ra pobiera dane z zewn\u0119trznego \u017ar\u00f3d\u0142a.</li> </ul>"},{"location":"concepts/resources/#tworzenie-pliku-krok-po-kroku","title":"Tworzenie pliku krok po kroku:","text":"<ol> <li>Utw\u00f3rz nowy plik JSON (np. <code>ExampleResourceBoilerplate.json</code>).</li> <li>Wklej powy\u017csz\u0105 struktur\u0119 do pliku.</li> <li>Zapisz plik w katalogu <code>/__resources__/boilerplates/ExampleResourceBoilerplate.json</code></li> </ol>"},{"location":"concepts/resources/#przykadowe-struktury-zasobu","title":"Przyk\u0142adowe Struktury Zasobu","text":""},{"location":"concepts/resources/#przykad-1-zasob-dla-kampanii-marketingowych","title":"Przyk\u0142ad 1: Zas\u00f3b dla Kampanii Marketingowych","text":"<pre><code>{\n  \"name\": \"MarketingCampaigns\",\n  \"department\": \"marketing\",\n  \"description\": \"Dane dotycz\u0105ce kampanii marketingowych z Google Ads\",\n  \"fields\": {\n    \"id\": \"campaign_id\",\n    \"updated\": \"last_updated\"\n  },\n  \"action\": \"fetch_marketing_campaign_data\"\n}\n</code></pre>"},{"location":"concepts/resources/#przykad-2-zasob-dla-transakcji-finansowych","title":"Przyk\u0142ad 2: Zas\u00f3b dla Transakcji Finansowych","text":"<pre><code>{\n  \"name\": \"FinancialTransactions\",\n  \"department\": \"finance\",\n  \"description\": \"Dane dotycz\u0105ce transakcji finansowych z konta bankowego\",\n  \"fields\": {\n    \"id\": \"transaction_id\",\n    \"updated\": \"transaction_date\"\n  },\n  \"action\": \"fetch_financial_transactions\"\n}\n</code></pre>"},{"location":"concepts/webhooks/","title":"Koncept zasobu i wska\u017anika","text":""},{"location":"concepts/webhooks/#czym-jest-zasob","title":"Czym jest zas\u00f3b","text":"<p>Koncept zasobu odnosi si\u0119 do po\u0142\u0105czenia opisu</p>"},{"location":"concepts/webhooks/#czym-jest-wskaznik","title":"Czym jest wska\u017anik","text":"<p>Koncept zasobu odnosi si\u0119 do abstrakcyjnego przedstawienia danych lub funkcji, kt\u00f3re s\u0105 dost\u0119pne w systemie, umo\u017cliwiaj\u0105c ich \u0142atwe zarz\u0105dzanie i integracj\u0119. Zasoby mog\u0105 reprezentowa\u0107 r\u00f3\u017cnorodne elementy, takie jak dane finansowe, u\u017cytkownicy czy transakcje, i s\u0105 cz\u0119sto wykorzystywane w aplikacjach do organizacji i strukturyzacji informacji. </p>"},{"location":"concepts/webhooks/#struktura-json-zasobu","title":"Struktura JSON Zasobu","text":"<pre><code>{\n  \"name\": \"StripeInvoices\",\n  \"description\": \"Zas\u00f3b faktur ze Stripe\",\n  \"department\": \"finance\",\n  \"fields\": {\n    \"id\": \"id\",\n    \"updated\": \"created\"\n  },\n  \"action\": \"fetch_stripe_invoices\"\n}\n</code></pre>"},{"location":"concepts/webhooks/#skadowe-funkcji-fetch_stripe_invoices","title":"Sk\u0142adowe funkcji fetch_stripe_invoices:","text":"<ul> <li>Niezb\u0119dne zale\u017cno\u015bci do realizacji logiki biznesowej</li> <li>Schema walidacji danych wychodz\u0105cych</li> <li>Cz\u0119\u015bci akcji pobierania zasobu<ul> <li>Funkcje collect</li> <li>Funkcja morph_json_with_pandas</li> <li>Funkcja validate_output</li> </ul> </li> <li>Ca\u0142y kod akcji pobierania zasobu</li> </ul>"},{"location":"concepts/webhooks/#1-niezbedne-zaleznosci-do-realizacji-logiki-biznesowej","title":"1. Niezb\u0119dne zale\u017cno\u015bci do realizacji logiki biznesowej","text":"<pre><code>import pandas as pd  # Import Pandas do pracy z danymi w formie tabel\nfrom dotenv import load_dotenv  # Import funkcji load_dotenv do \u0142adowania zmiennych \u015brodowiskowych z pliku .env\nfrom __resources__.types import Resource, MongoClient\nfrom external_services.stripe.utils import check_if_metadata_exists\nfrom external_services.stripe.stripe_client import collect_invoices_from_stripe, collect_missing_invoices  # Import funkcji do pobierania faktur z Stripe\nfrom typing import List, Dict, Any  # Import typ\u00f3w dla adnotacji\nfrom utils.validator import Validator\n</code></pre>"},{"location":"concepts/webhooks/#2-schema-walidacji-danych-wychodzacych","title":"2. Schema walidacji danych wychodz\u0105cych","text":"<pre><code>schema_out = {\n    \"id\": str,\n    \"amount_paid\": float,\n    \"total\": float,\n    \"created\": int,\n    \"status\": str,\n    \"customer\": str,\n    \"hours_capacity_per_payment\": int\n}\n</code></pre>"},{"location":"concepts/webhooks/#3-akcja-pobierania-zasobu","title":"3. Akcja pobierania zasobu","text":""},{"location":"concepts/webhooks/#3a-funkcje-collect","title":"3a. Funkcje collect","text":"<pre><code># implementacja\n\nimport requests  # Import modu\u0142u requests do wykonywania \u017c\u0105da\u0144 HTTP\nfrom dotenv import load_dotenv  # Import funkcji load_dotenv do \u0142adowania zmiennych \u015brodowiskowych z pliku .env\nimport os  # Import modu\u0142u os do pracy z systemem operacyjnym\n\ndef collect_invoices_from_stripe(accumulator:list=[]):\n    NUMBER_OF_MISSING_INVOICES = 3\n    load_dotenv()  # Za\u0142aduj zmienne \u015brodowiskowe z pliku .env\n    STRIPE_KEY = os.getenv('STRIPE_KEY')  # Pobierz klucz API Stripe ze zmiennych \u015brodowiskowych\n    headers = {\n        \"Authorization\": f\"Bearer {STRIPE_KEY}\"  # Ustaw nag\u0142\u00f3wki autoryzacyjne dla \u017c\u0105da\u0144 HTTP\n    }\n\n    invoices = accumulator  # Inicjalizuj list\u0119 faktur\n\n    if len(invoices) == NUMBER_OF_MISSING_INVOICES:\n        url = \"https://api.stripe.com/v1/invoices?status=paid&amp;limit=100\"  # URL do pobierania faktur z Stripe\n    if len(invoices) &gt; NUMBER_OF_MISSING_INVOICES:\n        url = f\"https://api.stripe.com/v1/invoices?status=paid&amp;limit=100&amp;starting_after={invoices[-1]['id']}\" \n\n    response = requests.get(url, headers=headers)  # Wykonaj \u017c\u0105danie HTTP GET do API Stripe\n\n    if response.status_code != 200:  # Sprawd\u017a, czy odpowied\u017a ma status 200 (OK)\n        raise Exception(f\"B\u0142\u0105d podczas pobierania danych z collect_invoices_from_stripe. Kod statusu: {response.status_code}\")  # Rzu\u0107 wyj\u0105tek w przypadku b\u0142\u0119du\n\n    data = response.json()['data']  # Pobierz dane JSON z odpowiedzi\n    if not data:  # Sprawd\u017a, czy dane s\u0105 puste\n        return invoices  # Zako\u0144cz rekurencj\u0119 i zwr\u00f3\u0107 faktury\n\n    invoices.extend(data)  # Dodaj pobrane faktury do listy invoices\n    return collect_invoices_from_stripe(invoices)\n\n\n# u\u017cycie\n\nfrom external_services.stripe.utils import check_if_metadata_exists\nfrom external_services.stripe.stripe_client import collect_invoices_from_stripe, collect_missing_invoices  # Import funkcji do pobierania faktur z Stripe\n\n\n\"\"\"Pobierz i przekszta\u0142\u0107 faktury ze Stripe\"\"\"\nmissing_invoices = collect_missing_invoices()  # Pobranie brakuj\u0105cych faktur ze Stripe\nall_stripe_invoices = collect_invoices_from_stripe(missing_invoices)  # Pobranie wszystkich faktur ze Stripe\n</code></pre>"},{"location":"concepts/webhooks/#3b-funkcja-morph_json_with_pandas","title":"3b. Funkcja morph_json_with_pandas","text":"<pre><code>def morph_json_with_pandas(data: List[Dict[str, Any]]) -&gt; List[Dict[str, Any]]:\n    \"\"\"Przekszta\u0142\u0107 dane JSON na DataFrame i przefiltruj kolumny\"\"\"\n    columns_wanted = [\n        'id', 'amount_paid', 'lines', 'total', 'created', \n        'status', 'customer'\n    ]  # Definicja kolumn, kt\u00f3re chcemy zachowa\u0107\n\n    df = pd.DataFrame(data)  # Stworzenie DataFrame z danych JSON\n    df = df[columns_wanted]  # Zachowanie tylko wybranych kolumn w DataFrame\n\n    df['created'] = df['created'].astype(int)  # Przekszta\u0142cenie kolumny 'created' na typ int\n\n    # Przypisanie warto\u015bci do odpowiednich kolumn\n    df['id'] = df['id']\n    df['amount_paid'] = df['amount_paid']\n    df['hours_capacity_per_payment'] = df.apply(lambda x: int(x['lines']['data'][0]['plan']['metadata']['hours_capacity_per_payment']), axis=1)\n    df['total'] = df['total']\n    df['status'] = df['status']\n    df['customer'] = df['customer']\n\n    df.drop(['lines'], axis=1, inplace=True)\n\n    return df\n</code></pre>"},{"location":"concepts/webhooks/#3c-funkcja-validate_output","title":"3c. Funkcja validate_output","text":"<pre><code>def validate_output(df, schema_out):\n\n    return Validator.validate(df,schema_out)\n</code></pre>"},{"location":"concepts/webhooks/#4-cay-kod-akcji-pobierania-zasobu","title":"4. Ca\u0142y kod akcji pobierania zasobu","text":"<pre><code>import pandas as pd  # Import Pandas do pracy z danymi w formie tabel\nfrom dotenv import load_dotenv  # Import funkcji load_dotenv do \u0142adowania zmiennych \u015brodowiskowych z pliku .env\nfrom __resources__.types import Resource, MongoClient\nfrom external_services.stripe.utils import check_if_metadata_exists\nfrom external_services.stripe.stripe_client import collect_invoices_from_stripe, collect_missing_invoices  # Import funkcji do pobierania faktur z Stripe\nfrom typing import List, Dict, Any  # Import typ\u00f3w dla adnotacji\nfrom utils.validator import Validator\n\n\nschema_out = {\n    \"id\": str,\n    \"amount_paid\": float,\n    \"total\": float,\n    \"created\": int,\n    \"status\": str,\n    \"customer\": str,\n    \"hours_capacity_per_payment\": int\n}\n\n\ndef morph_json_with_pandas(data: List[Dict[str, Any]]) -&gt; List[Dict[str, Any]]:\n    \"\"\"Przekszta\u0142\u0107 dane JSON na DataFrame i przefiltruj kolumny\"\"\"\n    columns_wanted = [\n        'id', 'amount_paid', 'lines', 'total', 'created', \n        'status', 'customer'\n    ]  # Definicja kolumn, kt\u00f3re chcemy zachowa\u0107\n\n    df = pd.DataFrame(data)  # Stworzenie DataFrame z danych JSON\n    df = df[columns_wanted]  # Zachowanie tylko wybranych kolumn w DataFrame\n\n    df['created'] = df['created'].astype(int)  # Przekszta\u0142cenie kolumny 'created' na typ int\n\n    # Przypisanie warto\u015bci do odpowiednich kolumn\n    df['id'] = df['id']\n    df['amount_paid'] = df['amount_paid']\n    df['hours_capacity_per_payment'] = df.apply(lambda x: int(x['lines']['data'][0]['plan']['metadata']['hours_capacity_per_payment']), axis=1)\n    df['total'] = df['total']\n    df['status'] = df['status']\n    df['customer'] = df['customer']\n\n    df.drop(['lines'], axis=1, inplace=True)  # Usuni\u0119cie kolumny 'lines' z DataFrame\n    return df\n\n\ndef validate_output(df, schema_out):\n    \"\"\"Waliduje dane w DataFrame zgodnie z podanym schematem.\"\"\"\n    return Validator.validate(df, schema_out)\n\n\ndef fetch_stripe_invoices(resource_setting: Resource, mongo_client: MongoClient) -&gt; List[Dict[str, Any]]:\n    \"\"\"Pobierz i przekszta\u0142\u0107 faktury ze Stripe\"\"\"\n\n    missing_invoices = collect_missing_invoices()  # Pobranie brakuj\u0105cych faktur ze Stripe\n    all_stripe_invoices = collect_invoices_from_stripe(missing_invoices)  # Pobranie wszystkich faktur ze Stripe\n\n    df_invoices = pd.DataFrame(all_stripe_invoices)  # Stworzenie DataFrame ze wszystkich faktur\n\n    # Przefiltrowanie faktur, aby usun\u0105\u0107 te z okre\u015blonymi ID\n    filtered_all_invoices = df_invoices[~df_invoices['id'].isin(['in_1PTOUuE2fekoERPNjIgQdiNh', 'in_1PXip9E2fekoERPNATlFnNUR'])].to_dict('records') \n    df_invoices = pd.DataFrame(filtered_all_invoices)\n\n    df_invoices['lines'] = df_invoices['lines'].apply(check_if_metadata_exists)\n\n    filtered_all_invoices = df_invoices.to_dict(orient='records')\n\n    filtered_all_invoices = df_invoices.to_dict(orient='records')\n\n    complete_invoices = morph_json_with_pandas(filtered_all_invoices)\n\n    complete_invoices = validate_output(complete_invoices, schema_out)\n\n    dict_invoices = complete_invoices.to_dict(orient='records')\n\n    return dict_invoices  # Zwr\u00f3cenie kompletnych faktur\n</code></pre>"},{"location":"contributing/how-to-contribute/","title":"Jak do\u0142\u0105czy\u0107 do projektu?","text":"<p>Do napisania</p>"},{"location":"getting-started/env-description/","title":"Opis \u015brodowiska","text":""},{"location":"getting-started/env-description/#data-backbone-odkryj-wartosc-swoich-danych-biznesowych","title":"Data Backbone - Odkryj warto\u015b\u0107 swoich danych biznesowych","text":""},{"location":"getting-started/env-description/#kregosup-danych","title":"Kr\u0119gos\u0142up danych","text":"<p>Jeste\u015bmy Usprawniacze Firm i stworzyli\u015bmy narz\u0119dzie, kt\u00f3re pomo\u017ce Twojej firmie odkry\u0107 now\u0105 wiedz\u0119 i warto\u015b\u0107 ukryt\u0105 we w\u0142asnych danych.</p> <p>I odzyskaj spok\u00f3j i kontrol\u0119 w technologicznej sferze Twojej firmy</p>"},{"location":"getting-started/env-description/#czym-jest-data-backbone","title":"Czym jest Data Backbone?","text":"<p>Data Backbone to platforma, kt\u00f3ra u\u0142atwia ma\u0142ym i \u015brednim przedsi\u0119biorstwom (M\u015aP) analiz\u0119 danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Wyobra\u017a sobie, \u017ce masz dost\u0119p do wszystkich swoich danych biznesowych w jednym miejscu - od emaili, przez dane z CRM, a\u017c po firmowe excele. Data Backbone pomo\u017ce Ci po\u0142\u0105czy\u0107 te dane i wyci\u0105gn\u0105\u0107 z nich warto\u015bciowe wnioski.</p>"},{"location":"getting-started/env-description/#jak-data-backbone-moze-pomoc-twojej-firmie","title":"Jak Data Backbone mo\u017ce pom\u00f3c Twojej firmie?","text":"<p>Za\u0142\u00f3\u017cmy, \u017ce chcesz wiedzie\u0107, ile mar\u017cy generujesz na ka\u017cdym z klient\u00f3w w uj\u0119ciu miesi\u0119cznym. Data Backbone pozwoli Ci po\u0142\u0105czy\u0107 dane z systemu rejestracji czasu pracy (np. Clickup), dane o pensjach pracownik\u00f3w z excela oraz informacje o przep\u0142ywach finansowych z konta bankowego. W rezultacie otrzymasz przejrzysty raport pokazuj\u0105cy mar\u017c\u0119 dla ka\u017cdego klienta.</p>"},{"location":"getting-started/installation/","title":"Instalacja","text":""},{"location":"getting-started/installation/#data-backbone-odkryj-wartosc-swoich-danych-biznesowych","title":"Data Backbone - Odkryj warto\u015b\u0107 swoich danych biznesowych","text":""},{"location":"getting-started/installation/#kregosup-danych","title":"Kr\u0119gos\u0142up danych","text":"<p>Jeste\u015bmy Usprawniacze Firm i stworzyli\u015bmy narz\u0119dzie, kt\u00f3re pomo\u017ce Twojej firmie odkry\u0107 now\u0105 wiedz\u0119 i warto\u015b\u0107 ukryt\u0105 we w\u0142asnych danych.</p> <p>I odzyskaj spok\u00f3j i kontrol\u0119 w technologicznej sferze Twojej firmy</p>"},{"location":"getting-started/installation/#czym-jest-data-backbone","title":"Czym jest Data Backbone?","text":"<p>Data Backbone to platforma, kt\u00f3ra u\u0142atwia ma\u0142ym i \u015brednim przedsi\u0119biorstwom (M\u015aP) analiz\u0119 danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Wyobra\u017a sobie, \u017ce masz dost\u0119p do wszystkich swoich danych biznesowych w jednym miejscu - od emaili, przez dane z CRM, a\u017c po firmowe excele. Data Backbone pomo\u017ce Ci po\u0142\u0105czy\u0107 te dane i wyci\u0105gn\u0105\u0107 z nich warto\u015bciowe wnioski.</p>"},{"location":"getting-started/installation/#jak-data-backbone-moze-pomoc-twojej-firmie","title":"Jak Data Backbone mo\u017ce pom\u00f3c Twojej firmie?","text":"<p>Za\u0142\u00f3\u017cmy, \u017ce chcesz wiedzie\u0107, ile mar\u017cy generujesz na ka\u017cdym z klient\u00f3w w uj\u0119ciu miesi\u0119cznym. Data Backbone pozwoli Ci po\u0142\u0105czy\u0107 dane z systemu rejestracji czasu pracy (np. Clickup), dane o pensjach pracownik\u00f3w z excela oraz informacje o przep\u0142ywach finansowych z konta bankowego. W rezultacie otrzymasz przejrzysty raport pokazuj\u0105cy mar\u017c\u0119 dla ka\u017cdego klienta.</p>"},{"location":"licencing/commercial-licence/","title":"Licencja komercyjna","text":""},{"location":"licencing/commercial-licence/#dla-kogo","title":"Dla kogo:","text":"<p>Nasza licencja komercyjna jest idealna dla firm, kt\u00f3re pragn\u0105 rozszerzy\u0107 swoje mo\u017cliwo\u015bci w zakresie analizy danych i raportowania. Skierowana jest do przedsi\u0119biorstw, kt\u00f3re chc\u0105 zyska\u0107 przewag\u0119 konkurencyjn\u0105 poprzez zaawansowane narz\u0119dzia analityczne.</p>"},{"location":"licencing/commercial-licence/#profile-firm","title":"Profile firm:","text":"<ul> <li> <p>Firmy \u015bwiadcz\u0105ce us\u0142ugi finansowe w sektorze M\u015aP: Nasza licencja jest idealna dla firm, kt\u00f3re oferuj\u0105 us\u0142ugi finansowe dla ma\u0142ych i \u015brednich przedsi\u0119biorstw. Dzi\u0119ki Data Backbone, te firmy mog\u0105 lepiej zrozumie\u0107 potrzeby swoich klient\u00f3w, optymalizowa\u0107 swoje us\u0142ugi oraz zwi\u0119ksza\u0107 swoj\u0105 konkurencyjno\u015b\u0107 na rynku.  </p> </li> <li> <p>Firmy z us\u0142ugami ksi\u0119gowymi i CFO: Nasze rozwi\u0105zania s\u0105 doskona\u0142e dla firm, kt\u00f3re potrzebuj\u0105 precyzyjnych narz\u0119dzi do analizy finansowej, planowania bud\u017cetowego oraz raportowania. Dzi\u0119ki naszej licencji, firmy te mog\u0105 usprawni\u0107 swoje procesy ksi\u0119gowe i zarz\u0105dcze, co pozwala na lepsze zarz\u0105dzanie finansami.</p> </li> <li> <p>Firmy zapewniaj\u0105ce support analityczny i raportowanie na podstawie danych: Dla firm, kt\u00f3re specjalizuj\u0105 si\u0119 w dostarczaniu us\u0142ug analitycznych, nasza licencja oferuje zaawansowane narz\u0119dzia do przetwarzania i analizy danych. Umo\u017cliwia to tworzenie dok\u0142adnych i szczeg\u00f3\u0142owych raport\u00f3w, kt\u00f3re wspieraj\u0105 podejmowanie decyzji biznesowych.</p> </li> </ul>"},{"location":"licencing/commercial-licence/#warunki","title":"Warunki:","text":"<ul> <li>Koszt licencji komercyjnej wynosi 20 tys z\u0142 netto rocznie. Jest to inwestycja, kt\u00f3ra zapewnia dost\u0119p do zaawansowanych narz\u0119dzi i wsparcia, co przek\u0142ada si\u0119 na zwi\u0119kszenie efektywno\u015bci i konkurencyjno\u015bci firmy.</li> <li>Wyj\u0105tek: Je\u015bli dostarczysz dowoln\u0105, kompletn\u0105 integracj\u0119 do oprogramowania, do kt\u00f3rego jeszcze nie mamy integracji, kwota za licencj\u0119 zmniejsza si\u0119 do 4 tys z\u0142 netto rocznie.</li> </ul>"},{"location":"licencing/commercial-licence/#co-zawiera-taka-licencja","title":"Co zawiera taka licencja:","text":"<ul> <li> <p>10h szkolenia z u\u017cywania i dobrych praktyk: W ramach licencji oferujemy kompleksowe szkolenie, kt\u00f3re obejmuje zar\u00f3wno podstawy, jak i zaawansowane techniki korzystania z naszych narz\u0119dzi. Szkolenie prowadzone jest przez ekspert\u00f3w, kt\u00f3rzy dziel\u0105 si\u0119 najlepszymi praktykami i strategiami, aby Twoja firma mog\u0142a w pe\u0142ni wykorzysta\u0107 potencja\u0142 naszych rozwi\u0105za\u0144.</p> </li> <li> <p>Wszystkie prompty, kt\u00f3re u\u017cywamy do pracy: Licencja zapewnia dost\u0119p do pe\u0142nej gamy prompt\u00f3w, kt\u00f3re s\u0105 kluczowe w codziennej pracy analitycznej. Dzi\u0119ki temu Twoja firma mo\u017ce korzysta\u0107 z tych samych narz\u0119dzi, kt\u00f3re my u\u017cywamy do osi\u0105gania najlepszych wynik\u00f3w.</p> </li> <li> <p>Aktualizacje przez trwanie licencji: W ramach licencji zapewniamy regularne aktualizacje naszych narz\u0119dzi, co gwarantuje, \u017ce zawsze b\u0119dziesz mie\u0107 dost\u0119p do najnowszych funkcji i usprawnie\u0144. Dzi\u0119ki temu Twoja firma pozostaje na czo\u0142owej pozycji w dynamicznie zmieniaj\u0105cym si\u0119 \u015brodowisku biznesowym.</p> </li> </ul>"},{"location":"licencing/educational-licence/","title":"Licencja edukacyjna","text":""},{"location":"licencing/educational-licence/#wprowadzenie","title":"Wprowadzenie","text":"<p>Licencja edukacyjna DataBackbone zosta\u0142a stworzona z my\u015bl\u0105 o wspieraniu edukacji w dziedzinie analityki danych oraz finans\u00f3w. Naszym celem jest umo\u017cliwienie studentom i instytucjom edukacyjnym dost\u0119pu do zaawansowanych narz\u0119dzi analitycznych, kt\u00f3re pomog\u0105 w nauce i rozwoju umiej\u0119tno\u015bci niezb\u0119dnych na wsp\u00f3\u0142czesnym rynku pracy.</p>"},{"location":"licencing/educational-licence/#warunki-licencji","title":"Warunki licencji","text":"<p>Aby skorzysta\u0107 z licencji edukacyjnej, wystarczy spe\u0142ni\u0107 kilka prostych warunk\u00f3w:</p> <ol> <li> <p>Zastosowanie edukacyjne: Licencja jest przeznaczona wy\u0142\u0105cznie do cel\u00f3w edukacyjnych, takich jak projekty studenckie, kursy akademickie czy badania naukowe zwi\u0105zane z analityk\u0105 danych i finansami.</p> </li> <li> <p>Zg\u0142oszenie ch\u0119ci u\u017cycia: Osoby lub instytucje zainteresowane korzystaniem z DataBackbone w celach edukacyjnych powinny wys\u0142a\u0107 wiadomo\u015b\u0107 e-mail na adres edu@databackbone.tech. W wiadomo\u015bci nale\u017cy kr\u00f3tko opisa\u0107, w jaki spos\u00f3b planowane jest wykorzystanie narz\u0119dzi DataBackbone.</p> </li> <li> <p>Akceptacja warunk\u00f3w: Po przes\u0142aniu zg\u0142oszenia i jego akceptacji, u\u017cytkownik otrzyma potwierdzenie oraz dost\u0119p do narz\u0119dzi DataBackbone na warunkach licencji edukacyjnej.</p> </li> </ol>"},{"location":"licencing/educational-licence/#korzysci-z-licencji-edukacyjnej","title":"Korzy\u015bci z licencji edukacyjnej","text":"<ul> <li> <p>Dost\u0119p do zaawansowanych narz\u0119dzi: U\u017cytkownicy licencji edukacyjnej maj\u0105 dost\u0119p do pe\u0142nej gamy narz\u0119dzi analitycznych DataBackbone, co pozwala na praktyczne zastosowanie teorii w rzeczywistych projektach.</p> </li> <li> <p>Wsparcie techniczne: Oferujemy wsparcie techniczne dla u\u017cytkownik\u00f3w licencji edukacyjnej, aby zapewni\u0107 p\u0142ynne i efektywne korzystanie z naszych narz\u0119dzi.</p> </li> <li> <p>Mo\u017cliwo\u015b\u0107 rozwoju umiej\u0119tno\u015bci: Dzi\u0119ki licencji edukacyjnej studenci i wyk\u0142adowcy mog\u0105 rozwija\u0107 swoje umiej\u0119tno\u015bci analityczne, co zwi\u0119ksza ich konkurencyjno\u015b\u0107 na rynku pracy.</p> </li> </ul>"},{"location":"licencing/noncommercial-licence/","title":"Bezp\u0142atna licencja dla Twojej firmy","text":""},{"location":"licencing/noncommercial-licence/#wprowadzenie","title":"Wprowadzenie","text":"<p>Data Backbone oferuje mo\u017cliwo\u015b\u0107 bezp\u0142atnego korzystania z naszych narz\u0119dzi dla firm, kt\u00f3re spe\u0142ni\u0105 okre\u015blone warunki. Naszym celem jest wspieranie inicjatyw, kt\u00f3re przyczyniaj\u0105 si\u0119 do dobra spo\u0142ecznego, dlatego zach\u0119camy do wsparcia schronisk dla zwierz\u0105t.</p>"},{"location":"licencing/noncommercial-licence/#warunki-uzyskania-bezpatnej-licencji-na-data-backbone","title":"Warunki uzyskania bezp\u0142atnej licencji na Data Backbone","text":"<p>Aby uzyska\u0107 bezp\u0142atn\u0105 licencj\u0119, nale\u017cy:</p> <ol> <li> <p>Dokona\u0107 darowizny: Przed rozpocz\u0119ciem korzystania z Data Backbone, prosimy o dokonanie wp\u0142aty minimum 500 z\u0142 na dowolne schronisko dla zwierz\u0105t. Wp\u0142ata ta jest wyrazem wsparcia dla organizacji, kt\u00f3re dbaj\u0105 o zwierz\u0119ta w potrzebie.</p> </li> <li> <p>Przes\u0142a\u0107 potwierdzenie: Po dokonaniu wp\u0142aty, prosimy o przes\u0142anie zdj\u0119cia potwierdzenia przelewu na adres e-mail: licence@databackbone.tech. W wiadomo\u015bci prosimy o podanie nazwy firmy oraz danych kontaktowych, co u\u0142atwi nam proces weryfikacji.</p> </li> <li> <p>Otrzyma\u0107 potwierdzenie: Po zweryfikowaniu przes\u0142anego potwierdzenia, skontaktujemy si\u0119 z Tob\u0105, aby potwierdzi\u0107 przyznanie bezp\u0142atnej licencji oraz przekaza\u0107 niezb\u0119dne informacje dotycz\u0105ce korzystania z naszych narz\u0119dzi.</p> </li> </ol>"},{"location":"licencing/noncommercial-licence/#korzysci-z-bezpatnej-licencji","title":"Korzy\u015bci z bezp\u0142atnej licencji","text":"<ul> <li> <p>Dost\u0119p do pe\u0142nej funkcjonalno\u015bci: Bezp\u0142atna licencja zapewnia dost\u0119p do wszystkich funkcji Data Backbone, co pozwala na pe\u0142ne wykorzystanie potencja\u0142u naszych narz\u0119dzi w Twojej firmie.</p> </li> <li> <p>Wspieranie spo\u0142eczno\u015bci: Korzystaj\u0105c z bezp\u0142atnej licencji, przyczyniasz si\u0119 do wsparcia schronisk dla zwierz\u0105t, co jest wa\u017cnym krokiem w budowaniu lepszego spo\u0142ecze\u0144stwa.</p> </li> </ul>"},{"location":"user-guide/api-usage/","title":"U\u017cycie DataBackbone API","text":""},{"location":"user-guide/api-usage/#data-backbone-odkryj-wartosc-swoich-danych-biznesowych","title":"Data Backbone - Odkryj warto\u015b\u0107 swoich danych biznesowych","text":""},{"location":"user-guide/api-usage/#kregosup-danych","title":"Kr\u0119gos\u0142up danych","text":"<p>Jeste\u015bmy Usprawniacze Firm i stworzyli\u015bmy narz\u0119dzie, kt\u00f3re pomo\u017ce Twojej firmie odkry\u0107 now\u0105 wiedz\u0119 i warto\u015b\u0107 ukryt\u0105 we w\u0142asnych danych.</p> <p>I odzyskaj spok\u00f3j i kontrol\u0119 w technologicznej sferze Twojej firmy</p>"},{"location":"user-guide/api-usage/#czym-jest-data-backbone","title":"Czym jest Data Backbone?","text":"<p>Data Backbone to platforma, kt\u00f3ra u\u0142atwia ma\u0142ym i \u015brednim przedsi\u0119biorstwom (M\u015aP) analiz\u0119 danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Wyobra\u017a sobie, \u017ce masz dost\u0119p do wszystkich swoich danych biznesowych w jednym miejscu - od emaili, przez dane z CRM, a\u017c po firmowe excele. Data Backbone pomo\u017ce Ci po\u0142\u0105czy\u0107 te dane i wyci\u0105gn\u0105\u0107 z nich warto\u015bciowe wnioski.</p>"},{"location":"user-guide/api-usage/#jak-data-backbone-moze-pomoc-twojej-firmie","title":"Jak Data Backbone mo\u017ce pom\u00f3c Twojej firmie?","text":"<p>Za\u0142\u00f3\u017cmy, \u017ce chcesz wiedzie\u0107, ile mar\u017cy generujesz na ka\u017cdym z klient\u00f3w w uj\u0119ciu miesi\u0119cznym. Data Backbone pozwoli Ci po\u0142\u0105czy\u0107 dane z systemu rejestracji czasu pracy (np. Clickup), dane o pensjach pracownik\u00f3w z excela oraz informacje o przep\u0142ywach finansowych z konta bankowego. W rezultacie otrzymasz przejrzysty raport pokazuj\u0105cy mar\u017c\u0119 dla ka\u017cdego klienta.</p>"},{"location":"user-guide/data-fetching/","title":"Pobieranie danych (zasob\u00f3w)","text":""},{"location":"user-guide/data-fetching/#wprowadzenie","title":"Wprowadzenie","text":"<p>Akcja pobieraj\u0105ca to funkcja w systemie Data Backbone, kt\u00f3ra s\u0142u\u017cy do pobierania danych z zewn\u0119trznych \u017ar\u00f3de\u0142 do zasob\u00f3w (resources). Ka\u017cdy zas\u00f3b posiada w kluczu <code>action</code> okre\u015blon\u0105 akcj\u0119 pobierania, kt\u00f3ra jest g\u0142\u00f3wnym mechanizmem umo\u017cliwiaj\u0105cym zasilanie systemu danymi.</p>"},{"location":"user-guide/data-fetching/#definicja-akcji-pobierajacej","title":"Definicja Akcji Pobieraj\u0105cej","text":"<p>Akcja pobieraj\u0105ca jest zdefiniowana jako funkcja, kt\u00f3ra przyjmuje dwa parametry:</p> <ul> <li><code>Resource</code>: obiekt zasobu, kt\u00f3ry opisuje struktur\u0119 i metadane zasobu</li> <li><code>MongoClient</code>: instancja klienta MongoDB, kt\u00f3r\u0105 mo\u017cna wykorzysta\u0107 do interakcji z baz\u0105 danych</li> </ul> <p>Rezultatem tej funkcji jest lista s\u0142ownik\u00f3w, gdzie ka\u017cdy s\u0142ownik reprezentuje pojedynczy rekord danych zasobu.</p>"},{"location":"user-guide/data-fetching/#typ-akcji-pobierajacej","title":"Typ Akcji Pobieraj\u0105cej","text":"<p>Typ akcji pobieraj\u0105cej zas\u00f3b jest zdefiniowany jako:</p> <pre><code>from typing import Callable, List, Dict, Any\nfrom pymongo.mongo_client import MongoClient\nfrom config.types import Resource\n\nResourceData = List[Dict[str, Any]]\n\nResourceAction = Callable[\n   [Resource, MongoClient],\n   ResourceData\n]\n</code></pre>"},{"location":"user-guide/data-fetching/#przykadowa-implementacja","title":"Przyk\u0142adowa Implementacja","text":"<p>Oto przyk\u0142ad prostej akcji pobieraj\u0105cej, kt\u00f3ra pobiera dane z zewn\u0119trznego API.</p>"},{"location":"user-guide/data-fetching/#definiowanie-struktury-danych","title":"Definiowanie struktury danych","text":"<pre><code>schema_out = {\n    \"id\": str,\n    \"name\": str,\n    \"status\": str,\n    \"date_created\": int,\n    \"date_updated\": int,\n    \"creator_id\": int,\n    \"creator_username\": str,\n    \"creator_email\": str,\n    \"tags\": [{\n        \"name\": str,\n        \"creator\": int\n    }],\n    \"time_spent\": int,\n    \"folder_id\": int\n}\n</code></pre>"},{"location":"user-guide/data-fetching/#funkcja-morph_json_with_pandas","title":"Funkcja <code>morph_json_with_pandas</code>","text":"<p>Funkcja zmieniaj\u0105ca struktur\u0119 danych.</p> <pre><code>def morph_json_with_pandas(data: list) -&gt; Tuple[pd.DataFrame, pd.DataFrame]:\n    # Okre\u015blenie kolumn, kt\u00f3re b\u0119d\u0105 potrzebne\n    columns_wanted = [\n        'id', 'name', 'status', 'date_created', 'date_updated',\n        'creator', 'tags', 'time_spent', 'folder'\n    ]\n\n    # Konwersja danych do DataFrame\n    df = pd.DataFrame(data)\n    df = df[columns_wanted]\n\n    # Konwersja dat na typ int\n    df['date_updated'] = df['date_updated'].astype(int)\n    df['date_created'] = df['date_created'].astype(int)\n\n    # Wyci\u0105ganie i przekszta\u0142canie danych z kolumn zagnie\u017cd\u017conych struktur\n    df['status'] = df['status'].apply(lambda x: x['status'])\n    df['creator_id'] = df['creator'].apply(lambda x: x['id'])\n    df['creator_username'] = df['creator'].apply(lambda x: x['username'])\n    df['creator_email'] = df['creator'].apply(lambda x: x['email'])\n    df['folder_id'] = df['folder'].apply(lambda x: x['id']).astype(int)\n\n    # Wype\u0142nianie brakuj\u0105cych warto\u015bci i konwersja na typ int\n    df['time_spent'] = df['time_spent'].fillna(0).astype(int)\n\n    # Usuwanie zb\u0119dnych kolumn\n    df.drop(['creator', 'folder'], axis=1, inplace=True)\n\n    return Validator.validate(df,schema_out)\n</code></pre>"},{"location":"user-guide/data-fetching/#funkcja-fetch_tasks","title":"Funkcja <code>fetch_tasks</code>","text":"<p>Funkcja pobierania zasobu.</p> <pre><code>async def fetch_tasks(resource_setting: Resource, db_client: MongoClient) -&gt; list:\n    # Zak\u0142adamy, \u017ce mamy batche po 10 * 100 task\u00f3w na ten moment\n    assumed_pages = 10\n\n    # Pobieranie zada\u0144\n    data, last_page = await collect_all_tasks(resource_setting, assumed_pages)\n\n    # Przetwarzanie danych\n    valid = morph_json_with_pandas(data)\n\n    # Zwracanie poprawnych danych w formie listy s\u0142ownik\u00f3w\n    return valid.to_dict(orient='records')\n</code></pre>"},{"location":"user-guide/data-fetching/#caosc","title":"Ca\u0142o\u015b\u0107","text":"<pre><code>from __resources__.types import Resource, MongoClient\nimport pandas as pd\nfrom external_services.clickup.clickup_client import collect_all_tasks\nfrom typing import TypedDict, List, Dict, Any, Tuple\n\n# Definiowanie struktury danych wchodz\u0105cych\nschema_out = {\n    \"id\": str,\n    \"name\": str,\n    \"status\": str,\n    \"date_created\": int,\n    \"date_updated\": int,\n    \"creator_id\": int,\n    \"creator_username\": str,\n    \"creator_email\": str,\n    \"tags\": [{\n        \"name\": str,\n        \"creator\": int\n    }],\n    \"time_spent\": int,\n    \"folder_id\": int\n}\n\n# Funkcja zmieniaj\u0105ca struktur\u0119 danych\ndef morph_json_with_pandas(data: list) -&gt; Tuple[pd.DataFrame, pd.DataFrame]:\n    # Okre\u015blenie kolumn, kt\u00f3re b\u0119d\u0105 potrzebne\n    columns_wanted = [\n        'id', 'name', 'status', 'date_created', 'date_updated',\n        'creator', 'tags', 'time_spent', 'folder'\n    ]\n\n    # Konwersja danych do DataFrame\n    df = pd.DataFrame(data)\n    df = df[columns_wanted]\n\n    # Konwersja dat na typ int\n    df['date_updated'] = df['date_updated'].astype(int)\n    df['date_created'] = df['date_created'].astype(int)\n\n    # Wyci\u0105ganie i przekszta\u0142canie danych z kolumn zagnie\u017cd\u017conych struktur\n    df['status'] = df['status'].apply(lambda x: x['status'])\n    df['creator_id'] = df['creator'].apply(lambda x: x['id'])\n    df['creator_username'] = df['creator'].apply(lambda x: x['username'])\n    df['creator_email'] = df['creator'].apply(lambda x: x['email'])\n    df['folder_id'] = df['folder'].apply(lambda x: x['id']).astype(int)\n\n    # Wype\u0142nianie brakuj\u0105cych warto\u015bci i konwersja na typ int\n    df['time_spent'] = df['time_spent'].fillna(0).astype(int)\n\n    # Usuwanie zb\u0119dnych kolumn\n    df.drop(['creator', 'folder'], axis=1, inplace=True)\n\n    return Validator.validate(df, schema_out)\n\n# Funkcja pobierania zasobu\nasync def fetch_tasks(resource_setting: Resource, db_client: MongoClient) -&gt; list:\n    # Zak\u0142adamy, \u017ce mamy batche po 10 * 100 task\u00f3w na ten moment\n    assumed_pages = 10\n\n    # Pobieranie zada\u0144\n    data, last_page = await collect_all_tasks(resource_setting, assumed_pages)\n\n    # Przetwarzanie danych\n    valid = morph_json_with_pandas(data)\n\n    # Zwracanie poprawnych danych w formie listy s\u0142ownik\u00f3w\n    return valid.to_dict(orient='records')\n</code></pre>"},{"location":"user-guide/data-fetching/#podsumowanie","title":"Podsumowanie","text":"<p>Akcje pobieraj\u0105ce s\u0105 kluczowym elementem systemu Data Backbone, umo\u017cliwiaj\u0105c zasilanie zasob\u00f3w danymi z r\u00f3\u017cnych zewn\u0119trznych \u017ar\u00f3de\u0142. Dzi\u0119ki jasno zdefiniowanem typom, dobrej strukturze kodu oraz przestrzeganiu dobrych praktyk, akcje te mog\u0105 by\u0107 efektywnie i bezawaryjnie implementowane, co pozwala na pe\u0142ne wykorzystanie mo\u017cliwo\u015bci analizy danych w ramach platformy Data Backbone.</p>"},{"location":"user-guide/data-preprocessing/","title":"Przetwarzanie danych (wska\u017anik\u00f3w)","text":""},{"location":"user-guide/data-preprocessing/#wprowadzenie","title":"Wprowadzenie","text":"<p>Akcja przetwarzaj\u0105ca dane w systemie Data Backbone to funkcja, kt\u00f3ra operuje na danych zasob\u00f3w (resources) w celu wygenerowania wska\u017anik\u00f3w (indicators). Te wska\u017aniki s\u0105 kluczowymi metrykami do analizy i monitorowania r\u00f3\u017cnych aspekt\u00f3w biznesowych. Ka\u017cdy wska\u017anik posiada w kluczu <code>action</code> okre\u015blon\u0105 akcj\u0119 pobierania, kt\u00f3ra jest g\u0142\u00f3wnym mechanizmem umo\u017cliwiaj\u0105cym zasilanie systemu danymi.</p>"},{"location":"user-guide/data-preprocessing/#definicja-akcji-przetwarzajacej","title":"Definicja Akcji Przetwarzaj\u0105cej","text":"<p>Akcja przetwarzaj\u0105ca jest definiowana jako funkcja, kt\u00f3ra przyjmuje dwa parametry:</p> <ul> <li><code>Indicator</code>: obiekt wska\u017anika, kt\u00f3ry zawiera opis, struktur\u0119 i metadane wska\u017anika.</li> <li><code>MongoClient</code>: instancja klienta MongoDB, dzi\u0119ki kt\u00f3rej mo\u017cliwa jest interakcja z baz\u0105 danych.</li> </ul> <p>Rezultatem tej funkcji jest przetworzony zestaw danych, zazwyczaj w formie listy s\u0142ownik\u00f3w, gdzie ka\u017cdy s\u0142ownik reprezentuje pojedynczy zrekord danych wska\u017anika.</p>"},{"location":"user-guide/data-preprocessing/#typ-akcji-przetwarzajacej","title":"Typ Akcji Przetwarzaj\u0105cej","text":"<p>Typ akcji przetwarzaj\u0105cej dane do wska\u017anika jest zdefiniowany jako:</p> <pre><code>from typing import Callable, List, Dict, Any\nfrom pymongo.mongo_client import MongoClient\nfrom config.types import Indicator\n\nResourceData = List[Dict[str, Any]]\n\nIndicatorAction = Callable[\n   [Indicator, MongoClient],\n   ResourceData\n]\n</code></pre>"},{"location":"user-guide/data-preprocessing/#przykadowa-implementacja","title":"Przyk\u0142adowa Implementacja","text":"<p>Poni\u017cej przedstawiono przyk\u0142adow\u0105 akcj\u0119 przetwarzaj\u0105c\u0105, kt\u00f3ra agreguje dane z zasob\u00f3w do wska\u017anika.</p>"},{"location":"user-guide/data-preprocessing/#definiowanie-struktury-danych","title":"Definiowanie struktury danych","text":"<pre><code>schema_out = {\n    \"client\": str,\n    \"id\": str,\n    \"date\": str,\n    \"mapped_payments_to_worklogs\": [\n        {\n            \"cycle_number\": int,\n            \"log_info\": [\n                {\n                    \"date_of_log\": str,\n                    \"worked_time\": float,\n                    \"user_name\": str,\n                    \"task_name\": str,\n                    \"task_id\": str,\n                    \"task_tag_name\": (str, type(None)),\n                    \"description\": str\n                }\n            ]\n        }\n    ]\n}\n</code></pre>"},{"location":"user-guide/data-preprocessing/#funkcja-map_payments_to_all_worklogs","title":"Funkcja <code>map_payments_to_all_worklogs</code>","text":"<p>Funkcja przetwarzaj\u0105ca struktury danych.</p> <pre><code>def map_payments_to_all_worklogs(worklogs, invoices, tasks):\n    # Konwertuj listy na DataFrame\n    worklogs_df = pd.DataFrame(worklogs)\n    invoices_df = pd.DataFrame(invoices)\n    tasks_df = pd.DataFrame(tasks)\n\n    # Sortowanie faktur wed\u0142ug daty stworzenia (od najstarszej do najnowszej) i resetowanie indeksu\n    sorted_invoices = invoices_df.sort_values(by='created').reset_index(drop=True)\n\n    # Konwersja kolumny 'created' na datetime\n    sorted_invoices['created'] = pd.to_datetime(sorted_invoices['created'], unit='s')\n\n    # Tworzenie kolumny 'end_of_cycle'\n    sorted_invoices['end_of_cycle'] = sorted_invoices['created'].shift(-1)\n    sorted_invoices.loc[sorted_invoices.index[-1], 'end_of_cycle'] = sorted_invoices['created'].iloc[-1] + pd.Timedelta(days=14)\n\n    # Dodanie kolumny 'cycle_number'\n    sorted_invoices['cycle_number'] = np.arange(1, len(sorted_invoices) + 1)\n\n    # Tworzenie DataFrame mapped_invoices_to_cycles\n    mapped_invoices_to_cycles_df = sorted_invoices[['cycle_number', 'created', 'end_of_cycle']].rename(columns={'created': 'invoice_creation_date_object'})\n\n    # Znalezienie wszystkich dziennik\u00f3w pracy dla cykli\n    mapped_worklogs_to_invoices = find_all_logs_for_cycles(mapped_invoices_to_cycles_df, worklogs_df, tasks_df)\n\n    # Zwr\u00f3\u0107 zmapowane dzienniki pracy do faktur\n    return mapped_worklogs_to_invoices\n</code></pre>"},{"location":"user-guide/data-preprocessing/#funkcja-build_worklogs_with_cycle_number","title":"Funkcja <code>build_worklogs_with_cycle_number</code>","text":"<p>G\u0142\u00f3wna funkcja przetwarzaj\u0105ca.</p> <pre><code>def build_worklogs_with_cycle_number(indicator_setting: Indicator, db_client: MongoClient):\n    # Pobierz dane z zasob\u00f3w StripeInvoices i ClickupTimeEntries\n    stripe_invoices = list(db_client['RESOURCES']['StripeInvoices'].find())\n    clickup_time_entries = list(db_client['RESOURCES']['ClickupTimeEntries'].find())\n    clickup_tasks = list(db_client['RESOURCES']['ClickupTasks'].find())\n    clients = list(db_client['RESOURCES']['ClientMapping'].find())\n\n    final_results = pd.DataFrame(columns=['client', 'id', 'date', 'mapped_payments_to_worklogs'])\n\n    for client in clients:\n        filtered_invoices = filter_stripe_invoices(stripe_invoices, client['stripe_customer_id'])\n        filtered_time_entries = filter_clickup_entries(clickup_time_entries, client['clickup_folder_id'])\n        filtered_tasks = filter_clickup_tasks(clickup_tasks, int(client['clickup_folder_id']))\n\n        mapped_payments_to_worklogs = map_payments_to_worklogs_from_first_invoice(filtered_time_entries, filtered_invoices, filtered_tasks)\n\n        new_row = {\n            'client': client['company_name'],\n            'id': client['company_name'],\n            'date': datetime.now().strftime('%Y-%m-%d'),\n            'mapped_payments_to_worklogs': mapped_payments_to_worklogs\n        }\n        final_results = pd.concat([final_results, pd.DataFrame([new_row])], ignore_index=True)\n\n    return Validator.validate(final_results, schema_out).to_dict(orient='records')\n</code></pre>"},{"location":"user-guide/data-preprocessing/#caosc","title":"Ca\u0142o\u015b\u0107","text":"<pre><code>from collections import OrderedDict, defaultdict\nimport uuid\nimport pandas as pd\nimport numpy as np\nfrom __indicators__.types import Indicator, MongoClient\nfrom datetime import datetime, timedelta\nfrom decimal import Decimal\n\nfrom __indicators__.utils.build_worklogs_with_cycle_number import (\n    filter_clickup_entries,\n    filter_clickup_tasks,\n    filter_stripe_invoices,\n    map_payments_to_worklogs_from_first_invoice,\n    find_all_logs_for_cycles\n)\n\n# Funkcja przetwarzaj\u0105ca struktury danych\ndef map_payments_to_all_worklogs(worklogs, invoices, tasks):\n    # Konwertuj listy na DataFrame\n    worklogs_df = pd.DataFrame(worklogs)\n    invoices_df = pd.DataFrame(invoices)\n    tasks_df = pd.DataFrame(tasks)\n\n    # Sortowanie faktur wed\u0142ug daty stworzenia (od najstarszej do najnowszej) i resetowanie indeksu\n    sorted_invoices = invoices_df.sort_values(by='created').reset_index(drop=True)\n\n    # Konwersja kolumny 'created' na datetime\n    sorted_invoices['created'] = pd.to_datetime(sorted_invoices['created'], unit='s')\n\n    # Tworzenie kolumny 'end_of_cycle'\n    sorted_invoices['end_of_cycle'] = sorted_invoices['created'].shift(-1)\n    sorted_invoices.loc[sorted_invoices.index[-1], 'end_of_cycle'] = sorted_invoices['created'].iloc[-1] + pd.Timedelta(days=14)\n\n    # Dodanie kolumny 'cycle_number'\n    sorted_invoices['cycle_number'] = np.arange(1, len(sorted_invoices) + 1)\n\n    # Tworzenie DataFrame mapped_invoices_to_cycles\n    mapped_invoices_to_cycles_df = sorted_invoices[['cycle_number', 'created', 'end_of_cycle']].rename(columns={'created': 'invoice_creation_date_object'})\n\n    # Znalezienie wszystkich dziennik\u00f3w pracy dla cykli\n    mapped_worklogs_to_invoices = find_all_logs_for_cycles(mapped_invoices_to_cycles_df, worklogs_df, tasks_df)\n\n    # Zwr\u00f3\u0107 zmapowane dzienniki pracy do faktur\n    return mapped_worklogs_to_invoices\n\n# Definiowanie struktury danych\nschema_out = {\n    \"client\": str,\n    \"id\": str,\n    \"date\": str,\n    \"mapped_payments_to_worklogs\": [\n        {\n            \"cycle_number\": int,\n            \"log_info\": [\n                {\n                    \"date_of_log\": str,\n                    \"worked_time\": float,\n                    \"user_name\": str,\n                    \"task_name\": str,\n                    \"task_id\": str,\n                    \"task_tag_name\": (str, type(None)),\n                    \"description\": str\n                }\n            ]\n        }\n    ]\n}\n\n# G\u0142\u00f3wna funkcja przetwarzaj\u0105ca\ndef build_worklogs_with_cycle_number(indicator_setting: Indicator, db_client: MongoClient):\n    # Pobierz dane z zasob\u00f3w StripeInvoices i ClickupTimeEntries\n    stripe_invoices = list(db_client['RESOURCES']['StripeInvoices'].find())\n    clickup_time_entries = list(db_client['RESOURCES']['ClickupTimeEntries'].find())\n    clickup_tasks = list(db_client['RESOURCES']['ClickupTasks'].find())\n    clients = list(db_client['RESOURCES']['ClientMapping'].find())\n\n    final_results = pd.DataFrame(columns=['client', 'id', 'date', 'mapped_payments_to_worklogs'])\n\n    for client in clients:\n        filtered_invoices = filter_stripe_invoices(stripe_invoices, client['stripe_customer_id'])\n        filtered_time_entries = filter_clickup_entries(clickup_time_entries, client['clickup_folder_id'])\n        filtered_tasks = filter_clickup_tasks(clickup_tasks, int(client['clickup_folder_id']))\n\n        mapped_payments_to_worklogs = map_payments_to_worklogs_from_first_invoice(filtered_time_entries, filtered_invoices, filtered_tasks)\n\n        new_row = {\n            'client': client['company_name'],\n            'id': client['company_name'],\n            'date': datetime.now().strftime('%Y-%m-%d'),\n            'mapped_payments_to_worklogs': mapped_payments_to_worklogs\n        }\n        final_results = pd.concat([final_results, pd.DataFrame([new_row])], ignore_index=True)\n\n    return Validator.validate(final_results, schema_out).to_dict(orient='records')\n</code></pre>"},{"location":"user-guide/data-preprocessing/#podsumowanie","title":"Podsumowanie","text":"<p>Akcje przetwarzaj\u0105ce s\u0105 kluczowym elementem systemu Data Backbone, umo\u017cliwiaj\u0105c generowanie warto\u015bciowych wska\u017anik\u00f3w na podstawie surowych danych zasob\u00f3w. Dzi\u0119ki jasno zdefiniowanym typom, dobrze zorganizowanemu kodu oraz przestrzeganiu sprawdzonych praktyk, akcje te mog\u0105 by\u0107 skutecznie i niezawodnie implementowane, co pozwala na pe\u0142ne wykorzystanie mo\u017cliwo\u015bci analizy danych w ramach platformy Data Backbone.</p>"},{"location":"user-guide/data-sync/","title":"Synchronizacja danych","text":""},{"location":"user-guide/data-sync/#wprowadzenie","title":"Wprowadzenie","text":"<p>Data Backbone to narz\u0119dzie, kt\u00f3re pomaga firmom M\u015aP w analizie danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Czasami zachodzi potrzeba r\u0119cznej synchronizacji danych zasob\u00f3w i wska\u017anik\u00f3w. Poni\u017cej znajduj\u0105 si\u0119 instrukcje, jak wykona\u0107 te operacje.</p>"},{"location":"user-guide/data-sync/#synchronizacja-reczna-zasobow-i-wskaznikow","title":"Synchronizacja R\u0119czna Zasob\u00f3w i Wska\u017anik\u00f3w","text":"<p>Istnieje kilka metod r\u0119cznej synchronizacji zasob\u00f3w i wska\u017anik\u00f3w. Ka\u017cda z nich jest realizowana poprzez wywo\u0142anie odpowiedniego adresu URL w przegl\u0105darce lub za pomoc\u0105 narz\u0119dzia do wykonywania zapyta\u0144 HTTP (np. <code>curl</code>, Postman).</p>"},{"location":"user-guide/data-sync/#synchronizacja-pojedynczego-zasobu","title":"Synchronizacja Pojedynczego Zasobu","text":"<p>Aby zsynchronizowa\u0107 pojedynczy zas\u00f3b, taki jak <code>ExampleResource.json</code>, u\u017cyj poni\u017cszego URL:</p> <pre><code>curl -X GET localhost:8000/refresh-data/resources/ExampleResource\n</code></pre>"},{"location":"user-guide/data-sync/#synchronizacja-pojedynczego-wskaznika","title":"Synchronizacja Pojedynczego Wska\u017anika","text":"<p>Aby zsynchronizowa\u0107 pojedynczy wska\u017anik, taki jak <code>ExampleIndicator.json</code>, u\u017cyj poni\u017cszego URL:</p> <pre><code>curl -X GET localhost:8000/refresh-data/indicators/ExampleIndicator\n</code></pre>"},{"location":"user-guide/data-sync/#synchronizacja-wszystkich-zasobow","title":"Synchronizacja Wszystkich Zasob\u00f3w","text":"<p>Aby zsynchronizowa\u0107 wszystkie zasoby, u\u017cyj poni\u017cszego URL:</p> <pre><code>curl -X GET localhost:8000/refresh-data/resources\n</code></pre>"},{"location":"user-guide/data-sync/#synchronizacja-wszystkich-wskaznikow","title":"Synchronizacja Wszystkich Wska\u017anik\u00f3w","text":"<p>Aby zsynchronizowa\u0107 wszystkie wska\u017aniki, u\u017cyj poni\u017cszego URL:</p> <pre><code>curl -X GET localhost:8000/refresh-data/indicators\n</code></pre>"},{"location":"user-guide/data-sync/#synchronizacja-wszystkich-zasobow-i-wskaznikow","title":"Synchronizacja Wszystkich Zasob\u00f3w i Wska\u017anik\u00f3w","text":"<p>Aby zsynchronizowa\u0107 wszystkie zasoby i wska\u017aniki jednocze\u015bnie, u\u017cyj poni\u017cszego URL:</p> <pre><code>curl -X GET localhost:8000/refresh-data/all\n</code></pre>"},{"location":"user-guide/data-sync/#podsumowanie","title":"Podsumowanie","text":"<p>R\u0119czna synchronizacja zasob\u00f3w i wska\u017anik\u00f3w w Data Backbone jest prosta i szybka. Wystarczy u\u017cy\u0107 odpowiednich adres\u00f3w URL, aby zsynchronizowa\u0107 konkretne zasoby, wska\u017aniki lub wszystkie dane na raz. Dzi\u0119ki temu mo\u017cesz \u0142atwo utrzymywa\u0107 swoje dane w aktualnym stanie, co pozwala na lepsz\u0105 analiz\u0119 i podejmowanie decyzji na podstawie aktualnych informacji.</p>"},{"location":"utils/logging-debugging/","title":"Logowanie i debugowanie","text":""},{"location":"utils/logging-debugging/#data-backbone-odkryj-wartosc-swoich-danych-biznesowych","title":"Data Backbone - Odkryj warto\u015b\u0107 swoich danych biznesowych","text":""},{"location":"utils/logging-debugging/#kregosup-danych","title":"Kr\u0119gos\u0142up danych","text":"<p>Jeste\u015bmy Usprawniacze Firm i stworzyli\u015bmy narz\u0119dzie, kt\u00f3re pomo\u017ce Twojej firmie odkry\u0107 now\u0105 wiedz\u0119 i warto\u015b\u0107 ukryt\u0105 we w\u0142asnych danych.</p> <p>I odzyskaj spok\u00f3j i kontrol\u0119 w technologicznej sferze Twojej firmy</p>"},{"location":"utils/logging-debugging/#czym-jest-data-backbone","title":"Czym jest Data Backbone?","text":"<p>Data Backbone to platforma, kt\u00f3ra u\u0142atwia ma\u0142ym i \u015brednim przedsi\u0119biorstwom (M\u015aP) analiz\u0119 danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Wyobra\u017a sobie, \u017ce masz dost\u0119p do wszystkich swoich danych biznesowych w jednym miejscu - od emaili, przez dane z CRM, a\u017c po firmowe excele. Data Backbone pomo\u017ce Ci po\u0142\u0105czy\u0107 te dane i wyci\u0105gn\u0105\u0107 z nich warto\u015bciowe wnioski.</p>"},{"location":"utils/logging-debugging/#jak-data-backbone-moze-pomoc-twojej-firmie","title":"Jak Data Backbone mo\u017ce pom\u00f3c Twojej firmie?","text":"<p>Za\u0142\u00f3\u017cmy, \u017ce chcesz wiedzie\u0107, ile mar\u017cy generujesz na ka\u017cdym z klient\u00f3w w uj\u0119ciu miesi\u0119cznym. Data Backbone pozwoli Ci po\u0142\u0105czy\u0107 dane z systemu rejestracji czasu pracy (np. Clickup), dane o pensjach pracownik\u00f3w z excela oraz informacje o przep\u0142ywach finansowych z konta bankowego. W rezultacie otrzymasz przejrzysty raport pokazuj\u0105cy mar\u017c\u0119 dla ka\u017cdego klienta.</p>"},{"location":"utils/parallel/","title":"Dzia\u0142ania r\u00f3wnoleg\u0142e","text":""},{"location":"utils/parallel/#data-backbone-odkryj-wartosc-swoich-danych-biznesowych","title":"Data Backbone - Odkryj warto\u015b\u0107 swoich danych biznesowych","text":""},{"location":"utils/parallel/#kregosup-danych","title":"Kr\u0119gos\u0142up danych","text":"<p>Jeste\u015bmy Usprawniacze Firm i stworzyli\u015bmy narz\u0119dzie, kt\u00f3re pomo\u017ce Twojej firmie odkry\u0107 now\u0105 wiedz\u0119 i warto\u015b\u0107 ukryt\u0105 we w\u0142asnych danych.</p> <p>I odzyskaj spok\u00f3j i kontrol\u0119 w technologicznej sferze Twojej firmy</p>"},{"location":"utils/parallel/#czym-jest-data-backbone","title":"Czym jest Data Backbone?","text":"<p>Data Backbone to platforma, kt\u00f3ra u\u0142atwia ma\u0142ym i \u015brednim przedsi\u0119biorstwom (M\u015aP) analiz\u0119 danych z r\u00f3\u017cnych \u017ar\u00f3de\u0142. Wyobra\u017a sobie, \u017ce masz dost\u0119p do wszystkich swoich danych biznesowych w jednym miejscu - od emaili, przez dane z CRM, a\u017c po firmowe excele. Data Backbone pomo\u017ce Ci po\u0142\u0105czy\u0107 te dane i wyci\u0105gn\u0105\u0107 z nich warto\u015bciowe wnioski.</p>"},{"location":"utils/parallel/#jak-data-backbone-moze-pomoc-twojej-firmie","title":"Jak Data Backbone mo\u017ce pom\u00f3c Twojej firmie?","text":"<p>Za\u0142\u00f3\u017cmy, \u017ce chcesz wiedzie\u0107, ile mar\u017cy generujesz na ka\u017cdym z klient\u00f3w w uj\u0119ciu miesi\u0119cznym. Data Backbone pozwoli Ci po\u0142\u0105czy\u0107 dane z systemu rejestracji czasu pracy (np. Clickup), dane o pensjach pracownik\u00f3w z excela oraz informacje o przep\u0142ywach finansowych z konta bankowego. W rezultacie otrzymasz przejrzysty raport pokazuj\u0105cy mar\u017c\u0119 dla ka\u017cdego klienta.</p>"}]}